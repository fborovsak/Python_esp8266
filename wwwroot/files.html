<!DOCTYPE html>
<html>
  <head>
    <title>ESP8266 Files</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <h1>ESP8266 Files</h1>
    <table border="1">
      <thead>
        <tr>
          <th>Archivos</th>
          <th>Peso</th>
          <th colspan="3">Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </body>
  <script type="text/javascript">
    (() => {
      fetch("files_", { method: "GET" })
        .then((r) => r.json())
        .catch((e) => console.error(e))
        .then((r) => {
          const tr = document
            .getElementById("myTable")
            .getElementsByTagName("tbody")[0];
          r.forEach((e) => {
            const nr = tr.insertRow();
            let nc = nr.insertCell(0);
            nc.innerHTML = e[0];
            nc = nr.insertCell(1);
            nc.innerHTML = e[1] == 0 ? "â¬›" : "ðŸŸ¨";
          });
        });
    })();
  </script>
</html>
