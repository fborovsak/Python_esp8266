<!DOCTYPE html>
<html>
  <head>
    <title>ESP8266 Pins</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <h1>ESP8266 Pins</h1>
    <table border="1" id="myTable">
      <thead>
        <tr>
          <th>Pin</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </body>
  <script type="text/javascript">
    (() => {
      fetch("pins_", { method: "GET" })
        .then((r)=>r.json())
        .catch((e) => console.error(e))
        .then((r) =>{
          const tr = document.getElementById('myTable').getElementsByTagName('tbody')[0];
          r.forEach(e => {
            const nr = tr.insertRow();
            let nc = nr.insertCell(0);
            nc.innerHTML = e[0];
            nc = nr.insertCell(1);
            nc.innerHTML = e[1] == 0 ? "â¬›" : "ðŸŸ¨";
          });
        });
    })();
  </script>
</html>
